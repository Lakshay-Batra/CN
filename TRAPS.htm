<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>MAIN</title>
</head>

<body>

<p align="center"><b><font face="Arial"><a href="Main.htm">MAIN</a></font></b></p>
<p align="center"><u><b><font size="6" color="#FF0000" face="Arial">TRAPS</font></b></u></p>
<p align="justify"><font face="Arial">SNMP provides the ability to send traps, 
or notifications, to advise an administrator when one or more conditions have 
been met. Traps are network packets that contain data relating to a component of 
the system sending the trap. The data may be statistical in nature or even 
status related. <br>
<br>
SNMP traps are alerts generated by agents on a managed device. These traps 
generate 5 types of data:<br>
<br>
&nbsp;</font></p>
<table class="list ul">
  <tr>
    <td class="bullet">
    <p align="justify"><font face="Arial">•</font></td>
    <td class="text">
    <p align="justify"><font face="Arial">Coldstart or Warmstart: The agent 
    reinitialized its configuration tables. </font></td>
  </tr>
  <tr>
    <td class="bullet">
    <p align="justify"><font face="Arial">•</font></td>
    <td class="text">
    <p align="justify"><font face="Arial">Linkup or Linkdown: A network 
    interface card (NIC) on the agent either fails or reinitializes. </font>
    </td>
  </tr>
  <tr>
    <td class="bullet">
    <p align="justify"><font face="Arial">•</font></td>
    <td class="text">
    <p align="justify"><font face="Arial">Authentication fails: This happens 
    when an SNMP agent gets a request from an unrecognized community name.
    </font></td>
  </tr>
  <tr>
    <td class="bullet">
    <p align="justify"><font face="Arial">•</font></td>
    <td class="text">
    <p align="justify"><font face="Arial">egpNeighborloss: Agent cannot 
    communicate with its EGP (Exterior Gateway Protocol) peer. </font></td>
  </tr>
  <tr>
    <td class="bullet">
    <p align="justify"><font face="Arial">•</font></td>
    <td class="text">
    <p align="justify"><font face="Arial">Enterprise specific: Vendor specific 
    error conditions and error codes. </font></td>
  </tr>
</table>
<p align="justify"><font face="Arial">By default, Microsoft SNMP agents do not 
trap anything under enterprise specific. This can change, however, depending on 
what is installed on the computer. For example, Microsoft Systems Management 
Server includes an event-to-trap translator that translates Windows NT events 
into SNMP traps and sends them to the trap host. </font></p>
<h3 id="tocHeadRef" align="justify"><font face="Arial">How Traps are Generated</font></h3>
<script type="text/javascript">loadTOCNode(2, 'moreinformation');</script>
<p align="justify"><font face="Arial">Traps are generated when a condition has 
been met on the SNMP agent. These conditions are defined in the Management 
Information Base (MIB) provided by the vendor. The administrator then defines 
thresholds, or limits to the conditions, that are to generate a trap. Conditions 
range from preset thresholds to a restart. After the condition has been met the 
SNMP agent then forms an SNMP packet that specifies the following: </font></p>
<div class="indent">
  <p align="justify"><font face="Arial">SNMP Version: v1 or v2 <br>
  <br>
  Community: Community name of the SNMP agent (defined on the agent) <br>
  <br>
  PDU TYPE: SNMPvX Trap (4) <br>
  <br>
  Enterprise: Corporation or organization that originated the trap, such as 
  .1.3.6.1.4.1.x <br>
  <br>
  Agent Address: IP address of the SNMP agent <br>
  <br>
  Generic Trap Type: Cold Start, Link Up, Enterprise, etc. <br>
  <br>
  Specific Trap Type: When Generic is set to Enterprise a specific trap ID s 
  identified <br>
  <br>
  Timestamp: The value of object sysUpTime when the event occurred <br>
  <br>
  Object x Value x: OID of the trap and the current value </font>
</div>
<p align="justify"><font face="Arial">The above packet is sent to the SNMP trap 
host, or manager, through UDP port 162. <br>
<br>
Packet Format: </font></p>
<div align="justify">
  <pre class="in_text"><font face="Arial">    ------------------------------------------------------
   | Version | Community |  TRAP PDU |
    ------------------------------------------------------
				</font></pre>
</div>
<p align="justify"><font face="Arial">Trap PDU Format: </font></p>
<div align="justify">
  <pre class="in_text"><font face="Arial">    ---------------------------------------------------------------------------------------------------------
   | PDU TYPE | Enterprise | Agent IP | GEN trap | Spec Trap | Time Stame |
    ----------------------------------------------------------------------------------------------------------

    ------------------------------------------------------
   |OBJ 1 Val 1| .....| |-Variable Bindings-|
    ------------------------------------------------------</font></pre>
</div>
<div align="center">
  <pre class="in_text"><b><font face="Arial"><a href="Main.htm">MAIN</a></font></b></pre>
</div>

</body>

</html>