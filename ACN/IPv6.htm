<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link rel="File-List" href="IPv6_files/filelist.xml">
<title>New Page 1</title>
<style>
<!--
span.srcsentence
	{font-family:Verdana;
	border:1.0pt none windowtext;
	padding:0in}
 table.MsoNormalTable
	{mso-style-parent:"";
	font-size:10.0pt;
	font-family:"Times New Roman"}
 li.MsoNormal
	{mso-style-parent:"";
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman";
	margin-left:0in; margin-right:0in; margin-top:0in}
-->
</style>
<!--[if !mso]>
<style>
v\:*         { behavior: url(#default#VML) }
o\:*         { behavior: url(#default#VML) }
.shape       { behavior: url(#default#VML) }
</style>
<![endif]--><!--[if gte mso 9]>
<xml><o:shapedefaults v:ext="edit" spidmax="1027"/>
</xml><![endif]-->
</head>

<body>

<p align="center"><font face="Arial"><b><a href="ACNMAIN.htm">MAIN</a></b></font></p>
<p align="center"><span style="text-transform: uppercase"><u><b>
<font color="#FF0000" face="Arial" size="6">IPv6 </font></b><font FACE="Arial">
<b><font size="6" color="#FF0000">Extension Headers</font></b></font></u></span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">The 
primary function of IPv6, routing is the process of forwarding packets between 
connected network segments, also known as links or subnets.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">IPv6 routers are attached to two or 
more IPv6 network segments and enable hosts on those segments to forward IPv6 
packets between them.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">IPv6 packets are exchanged and 
processed on each host by using IPv6 at the Internet layer.</font></span><font face="Arial"><span style="color: black">
</span></font></span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">In 
effect, IPv6 is the mailroom in which IPv6 data sorting and delivery occur.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">Incoming or outgoing IPv6 packets 
contain both the source address of the sending host and the destination address 
of the receiving host.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">Unlike link-layer addresses, IPv6 
addresses in the IPv6 header typically remain the same as the packet travels 
across an IPv6 network.</font></span><font face="Arial"><span style="color: black">
</span></font></span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">Above 
the IPv6 layer, transport services on the source host pass data in the form of 
TCP segments or UDP messages down to the IPv6 layer.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">The IPv6 layer creates IPv6 packets 
with source and destination address information that is used to route the data 
through the network.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">The IPv6 layer then passes packets 
down to the link layer, where the packets are converted into frames for 
transmission over network-specific media on a physical network.</font></span><font face="Arial"><span style="color: black">
</span></font><span class="srcsentence"><font face="Arial">This process occurs 
in reverse order on the destination host.</font></span><font face="Arial"><span style="color: black">
</span></font></span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">IPv6 
layer services on each sending host examine the destination address of each 
packet, compare this address to a locally maintained routing table, and then 
determine what additional forwarding is required. </font></span></span></p>
<p class="MsoNormal" style="vertical-align:top" align="justify">
<span style="font-family: Arial; color: black"><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
 coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
 filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_s1025" type="#_x0000_t75" alt="" style='width:.75pt;
 height:.75pt'>
 <v:imagedata src="IPv6_files/image001.gif" o:href="http://i.msdn.microsoft.com/Global/Images/clear.gif"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
src="IPv6_files/image001.gif" v:shapes="_x0000_s1025"><![endif]>&nbsp;IPv6 
Routers </span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">IPv6 
routers provide the primary means for joining together two or more physically 
separated IPv6 network segments.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">The routers pass IPv6 packets from 
one network segment to another.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">The following illustration shows 
how routers connect network segments.</font></span><font face="Arial"><span style="color: black">
</span></font></span></p>
<p class="MsoNormal" style="vertical-align:top" align="center">
<span style="font-family: Arial; color: black"><!--[if gte vml 1]><v:shape
 id="_x0000_s1026" type="#_x0000_t75" alt="" style='width:344.25pt;height:201pt'>
 <v:imagedata src="IPv6_files/image002.gif" o:href="http://i.msdn.microsoft.com/Aa923549.34a41ed7-7cf8-4776-9666-8bc4e77eafb0(en-us,MSDN.10).gif"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=459 height=268
src="IPv6_files/image003.gif" v:shapes="_x0000_s1026"><![endif]></span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">&nbsp;</font></span></span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">&nbsp;Network 
segments are identified by using an IPv6 network prefix and prefix length.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">The following table shows the 
characteristics of IPv6 routers.</font></span></span><font face="Arial"><span style="color: black">
</span></font></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span style="font-family: Arial; color: black">&nbsp;&nbsp;</span></p>
<table class="MsoNormalTable" border="1" cellpadding="0" width="97%" style="width: 97.0%; border: 1.0pt solid #DDDDDD; margin-left: 3.75pt; background: #CCCCCC">
  <tr>
    <td valign="bottom" style="border-left: 1.0pt solid #CCCCCC; border-right: 1.0pt solid #CCCCCC; border-top: 1.0pt solid #CCCCCC; border-bottom: 1.0pt solid #C8CDDE; padding: 3.75pt">
    <p class="MsoNormal" align="justify"><span class="srcsentence"><b>
    <span style="color: #000066"><font face="Arial" size="3">Characteristic</font></span></b></span><b><span style="font-family: Arial; color: #000066"><font size="3">
    </font></span></b></td>
    <td valign="bottom" style="border-left: 1.0pt solid #CCCCCC; border-right: 1.0pt solid #CCCCCC; border-top: 1.0pt solid #CCCCCC; border-bottom: 1.0pt solid #C8CDDE; padding: 3.75pt">
    <p class="MsoNormal" align="justify"><span class="srcsentence"><b>
    <span style="color: #000066"><font face="Arial" size="3">Description</font></span></b></span><b><span style="font-family: Arial; color: #000066"><font size="3">
    </font></span></b></td>
  </tr>
  <tr>
    <td valign="top" style="border-left: 1.0pt solid #CCCCCC; border-right: 1.0pt solid #D5D5D3; border-top: 1.0pt solid #CCCCCC; border-bottom: 1.0pt solid #CCCCCC; padding: 3.75pt; background: white">
    <p class="NormalWeb6" style="margin-top:0in;margin-right:.75pt;margin-bottom:
  0in;margin-left:.75pt;margin-bottom:.0001pt" align="justify">
    <span class="srcsentence"><span style="color: black">
    <font face="Arial" size="3">Are physically multi-homed hosts</font></span></span></td>
    <td valign="top" style="border-left: 1.0pt solid #CCCCCC; border-right: 1.0pt solid #D5D5D3; border-top: 1.0pt solid #CCCCCC; border-bottom: 1.0pt solid #CCCCCC; padding: 3.75pt; background: white">
    <p class="NormalWeb6" style="margin-top:0in;margin-right:.75pt;margin-bottom:
  0in;margin-left:.75pt;margin-bottom:.0001pt" align="justify">
    <span class="srcsentence"><span style="color: black">
    <font face="Arial" size="3">A physically multi-homed host is a network host 
    that uses two or more network connection interfaces to connect to each 
    physically separated network segment.</font></span></span></td>
  </tr>
  <tr>
    <td valign="top" style="border-left: 1.0pt solid #CCCCCC; border-right: 1.0pt solid #D5D5D3; border-top: 1.0pt solid #CCCCCC; border-bottom: 1.0pt solid #CCCCCC; padding: 3.75pt; background: white">
    <p class="NormalWeb6" style="margin-top:0in;margin-right:.75pt;margin-bottom:
  0in;margin-left:.75pt;margin-bottom:.0001pt" align="justify">
    <span class="srcsentence"><span style="color: black">
    <font face="Arial" size="3">Provide packet forwarding for other IPv6 hosts</font></span></span></td>
    <td valign="top" style="border-left: 1.0pt solid #CCCCCC; border-right: 1.0pt solid #D5D5D3; border-top: 1.0pt solid #CCCCCC; border-bottom: 1.0pt solid #CCCCCC; padding: 3.75pt; background: white">
    <p class="NormalWeb6" style="margin-top:0in;margin-right:.75pt;margin-bottom:
  0in;margin-left:.75pt;margin-bottom:.0001pt" align="justify">
    <span class="srcsentence"><span style="color: black">
    <font face="Arial" size="3">IPv6 routers are distinct from other hosts that 
    use multi-homing.</font></span></span><font face="Arial" size="3"><span style="color: black">
    </span></font><span style="font-family: Verdana; color: black">
    <span class="srcsentence"><font face="Arial" size="3">An IPv6 router must be 
    able to forward IPv6-based communication between networks for other IPv6 
    network hosts.</font></span></span><font face="Arial" size="3"><span style="color: black">
    </span></font></td>
  </tr>
</table>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">You can 
implement IPv6 routers by using a variety of hardware and software products, 
including a computer running Windows CE .NET 4.1 and later with the IPv6 
protocol.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">Routers that are dedicated hardware 
devices running specialized software are common.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">Regardless of the type of IPv6 
routers that you use, all IPv6 routing relies on a routing table to communicate 
between network segments.</font></span><font face="Arial"><span style="color: black">
</span></font></span></p>
<p class="MsoNormal" style="vertical-align:top" align="justify">
<span style="font-family: Arial; color: black"><!--[if gte vml 1]><v:shape
 id="_x0000_s1027" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
 <v:imagedata src="IPv6_files/image001.gif" o:href="http://i.msdn.microsoft.com/Global/Images/clear.gif"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
src="IPv6_files/image001.gif" v:shapes="_x0000_s1027"><![endif]>&nbsp;IPv6 
Routing Table </span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">IPv6 
hosts use routing tables to maintain information about other IPv6 networks and 
IPv6 hosts.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">The routing tables provide 
important information about how to communicate with remote networks and hosts.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">Every device that runs IPv6 
determines how to forward packets based on the contents of the IPv6 routing 
table.</font></span><font face="Arial"><span style="color: black"> </span>
</font><span class="srcsentence"><font face="Arial">The following list shows the 
information contained in the IPv6 routing table:</font></span><font face="Arial"><span style="color: black">
</span></font></span></p>
<ul type="disc" style="margin-bottom: 0in">
  <li class="MsoNormal" style="color: black; line-height: 140%; vertical-align: top">
  <p align="justify"><span class="srcsentence"><span style="line-height: 140%">
  <font face="Arial" size="3">An address prefix </font></span></span></li>
  <li class="MsoNormal" style="color: black; line-height: 140%; vertical-align: top">
  <p align="justify"><span class="srcsentence"><span style="line-height: 140%">
  <font face="Arial" size="3">The interface over which packets that match the 
  address prefix are sent </font></span></span></li>
  <li class="MsoNormal" style="color: black; line-height: 140%; vertical-align: top">
  <p align="justify"><span class="srcsentence"><span style="line-height: 140%">
  <font face="Arial" size="3">A forwarding or next-hop address </font></span>
  </span></li>
  <li class="MsoNormal" style="color: black; line-height: 140%; vertical-align: top">
  <p align="justify"><span class="srcsentence"><span style="line-height: 140%">
  <font face="Arial" size="3">A preference value used to select between multiple 
  routes with the same prefix </font></span></span></li>
  <li class="MsoNormal" style="color: black; line-height: 140%; vertical-align: top">
  <p align="justify"><span class="srcsentence"><span style="line-height: 140%">
  <font face="Arial" size="3">The lifetime of the route </font></span></span>
  </li>
  <li class="MsoNormal" style="color: black; line-height: 140%; vertical-align: top">
  <p align="justify"><span class="srcsentence"><span style="line-height: 140%">
  <font face="Arial" size="3">The specification of whether the route is 
  published (advertised in a Routing Advertisement) </font></span></span></li>
  <li class="MsoNormal" style="color: black; line-height: 140%; vertical-align: top">
  <p align="justify"><span class="srcsentence"><span style="line-height: 140%">
  <font face="Arial" size="3">The specification of how the route is aged </font>
  </span></span></li>
  <li class="MsoNormal" style="color: black; line-height: 140%; vertical-align: top">
  <p align="justify"><span class="srcsentence"><span style="line-height: 140%">
  <font face="Arial" size="3">The route type </font></span></span></li>
</ul>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">The IPv6 
routing table is built automatically, based on the current IPv6 implementation 
of your device.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">When forwarding IPv6 packets, your 
device searches the routing table for an entry that is the most specific match 
to the destination IPv6 address.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">A route for the link-local prefix 
(FE80::/64) is not displayed.</font></span><font face="Arial"><span style="color: black">
</span></font></span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">
Typically, a default router is used because it is not practical to maintain a 
routing table for each communication device on an IPv6 network that lists 
communication information for every other device.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">The default route (a route with a 
prefix of ::/0) is typically used to forward an IPv6 packet to a default router 
on the local link.</font></span></span><font face="Arial"><span style="color: black">
</span></font><span style="font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">Because the router that corresponds 
to the default router contains information about the network prefixes of the 
other IPv6 subnets within the larger IPv6 internet-work, it forwards the packet 
to other routers until the packet is eventually delivered to the destination.</font></span><font face="Arial"><span style="color: black">
</span></font></span></p>
<p class="MsoNormal" style="vertical-align:top" align="justify">
<span style="font-family: Arial; color: black"><!--[if gte vml 1]><v:shape
 id="_x0000_s1028" type="#_x0000_t75" alt="" style='width:.75pt;height:.75pt'>
 <v:imagedata src="IPv6_files/image001.gif" o:href="http://i.msdn.microsoft.com/Global/Images/clear.gif"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=1 height=1
src="IPv6_files/image001.gif" v:shapes="_x0000_s1028"><![endif]>&nbsp;Routing 
Process </span></p>
<p style="margin-bottom:0in;margin-bottom:.0001pt;vertical-align:top" align="justify">
<span class="srcsentence"><span style="color: black"><font face="Arial">The 
following steps occur during the routing process: </font></span></span></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: .5in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">1.</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">Before a communication device sends an IPv6 packet, it 
inserts its source IPv6 address and the destination IPv6 address (for the 
recipient) into the IPv6 header. </font></span></span></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: .5in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">2.</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">The device then examines the destination IPv6 address, 
compares it to a locally maintained IPv6 routing table, and takes appropriate 
action.</font></span></span><font face="Arial"><span style="line-height: 140%; color: black">
</span></font>
<span style="line-height: 140%; font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">The device does one of three 
things:</font></span></span><font face="Arial"><span style="line-height: 140%; color: black">
</span></font></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: 1.0in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">·</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">It passes the packet to a protocol layer above IPv6 on the 
local host. </font></span></span></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: 1.0in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">·</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">It forwards the packet through one of its attached network 
interfaces. </font></span></span></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: 1.0in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">·</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">It discards the packet. </font></span></span></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: .5in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">3.</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">IPv6 searches the routing table for the route that is the 
closest match to the destination IPv6 address.</font></span></span><font face="Arial"><span style="line-height: 140%; color: black">
</span></font>
<span style="line-height: 140%; font-family: Verdana; color: black">
<span class="srcsentence"><font face="Arial">The most specific to the least 
specific route is determined in the following order:</font></span></span><font face="Arial"><span style="line-height: 140%; color: black">
</span></font></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: 1.0in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">a.</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">A route that matches the destination IPv6 address (a host 
route with a 128-bit prefix length). </font></span></span></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: 1.0in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">b.</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">A route that matches the destination with the longest prefix 
length. </font></span></span></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: 1.0in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">c.</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">The default route (the network prefix: /0). </font></span>
</span></p>
<p class="MsoNormal" style="text-indent: -.25in; line-height: 140%; vertical-align: top; margin-left: .5in" align="justify">
<font face="Arial"><span style="line-height: 140%; color: black">4.</span></font><span style="font-style: normal; font-variant: normal; font-weight: normal; font-family: Arial; line-height: 140%; color: black">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span class="srcsentence"><span style="line-height: 140%; color: black">
<font face="Arial">If a matching route is not found, the destination is 
determined to be an on-link destination.</font></span></span></p>
<p class="MsoNormal" align="center"><font face="Arial">&nbsp;<img border="0" src="IPv6.h1.jpg" width="841" height="625"></font></p>
<font FACE="Times New Roman" SIZE="1"></font><font FACE="Arial">
<p ALIGN="justify">IPv4 Options perform a very important role in the IP protocol 
operation therefore the capability had to be preserved in IPv6. On the other 
hand, the impact of IPv4 Options on performance was taken into consideration in 
the development of IPv6. The functionality of options is removed from the main 
header and implemented through a set of additional headers called extension 
headers [2]. The main header remains fixed in size (40 bytes) while customized 
EHs are added as needed. Figure 2 shows how the headers are linked together in 
an IPv6 packet.</p>
<p align="justify"><b>Chaining Extension Headers in IPv6 Packets</b></p>
</font>
<p align="center"><font face="Arial">
<img border="0" src="IPv6.h2.gif" width="863" height="575"></font></p>
<font FACE="Arial">
<p align="justify">RFC2460 defines the extension headers as shown in the 
following table along with the Next Header values assigned to them:</p>
</font>
<p align="center"><font face="Arial">
<img border="0" src="IPv6.h3.jpg" width="593" height="357"></font></p>
<font FACE="Arial"><b>
<p align="center">Table 1. </b>IPv6 Extension Headers and their Recommended 
Order in a Packet</p>
<p ALIGN="justify">RFC2460 also recommends the order in which they should be 
chained in an IPv6 packet:</p>
<b>
<p ALIGN="justify">1. IPv6 main header</p>
<p ALIGN="justify">2. Hop-by-Hop Options header (if present, it MUST be the 
first one following the main/regular header)</p>
<p ALIGN="justify">3. Destination Options header</p>
<p ALIGN="justify">4. Routing header</p>
<p ALIGN="justify">5. Fragment header</p>
<p ALIGN="justify">6. Authentication header</p>
<p ALIGN="justify">7. Encapsulating Security Payload header</p>
<p ALIGN="justify">8. Destination Options header</p>
</b>
<p ALIGN="justify">9. <b>Upper-layer header</p>
</b>
<p ALIGN="justify">The only <b>MUST </b>requirement is that the Hop-by-Hop EH 
has to be the first one.</p>
<b>
<p ALIGN="justify">&nbsp;</p>
<p ALIGN="justify"><font size="4">Commonly Used Extension Headers</font></p>
</b>
<p ALIGN="justify">&nbsp;&nbsp;&nbsp; The Extension Header should not be viewed 
as an esoteric feature of IPv6 that would be encountered only at later stages of 
the network and service deployment. Extension headers are an intrinsic part of 
the IPv6 protocol and they support some basic functions and certain services. 
The following is a list of circumstances where EHs are commonly used:</p>
</font><font FACE="Arial" LANG="JA">
<p ALIGN="justify">&#9679; </font><font face="Arial"><b>Hop-by-Hop EH </b>is used for 
the support of Jumbo-grams or, with the Router Alert option, it is an integral 
part in the operation of MLD. Router Alert [3] is an integral part in the 
operations of IPv6 Multicast through Multicast Listener Discovery (MLD) and RSVP 
for IPv6.</p>
</font><font FACE="Arial" LANG="JA">
<p ALIGN="justify">&#9679; </font><font FACE="Arial"><b>Destination EH </b>is used in 
IPv6 Mobility as well as support of certain applications.</p>
</font><font FACE="Arial" LANG="JA">
<p ALIGN="justify">&#9679; </font><font face="Arial">Routing EH is used in IPv6 
Mobility and in Source Routing. It may be necessary to disable “IPv6 source 
routing” on routers to protect against DDoS.</p>
</font><font FACE="Arial" LANG="JA">
<p ALIGN="justify">&#9679; </font><font face="Arial"><b>Fragmentation EH </b>is 
critical in support of communication using fragmented packets (in IPv6, the 
traffic source must do fragmentation—routers do not perform fragmentation of the 
packets they forward)</p>
</font><font FACE="Arial" LANG="JA">
<p ALIGN="justify">&#9679; </font><font FACE="Arial"><b>Mobility EH </b>is used in 
support of Mobile IPv6 service</p>
</font><font FACE="Arial" LANG="JA">
<p ALIGN="justify">&#9679; </font><font FACE="Arial"><b>Authentication EH </b>is 
similar in format and use to the IPv4 authentication header defined in RFC2402 
[4].</p>
</font><font FACE="Arial" LANG="JA">
<p ALIGN="justify">&#9679; </font><font face="Arial"><b>Encapsulating Security Payload 
EH </b>is similar in format and use to the IPv4 ESP header defined in RFC2406 
[5]. All information following the Encapsulating Security Header (ESH) is 
encrypted and for that reason, it is inaccessible to intermediary network 
devices. The ESH can be followed by an additional Destination Options EH and the 
upper layer datagram.</p>
</font><font FACE="Arial">
<p ALIGN="justify">&nbsp;</p>
<p ALIGN="justify">Figure 3 presents the structure of IPv6 data plane packets 
using extension headers. In this example, the packet is sent from Mobile Node A 
to Mobile Node B over the route optimized path [6], hence the use of the Routing 
EH (43) and the Destination Options EH (60). It is sent over a path that has an 
Maximum Transmission Unit (MTU) smaller than that of Mobile Nodes (MNs) access 
link, hence the use of the Fragmentation EH (44).</p>
</font>
<p align="center"><font face="Arial">
<img border="0" src="IPv6.h4.gif" width="857" height="521"></font></p>
<p align="justify">&nbsp;</p>
<font FACE="Arial">
<p ALIGN="justify">The length of the Extension Header chain in this case is 56 
bytes. By comparison, the IPv6 packet between a Mobile Node and Correspondent 
Node over the route optimized path would have either the Routing or the 
Destination Options EH (not both) leading to a shorter EH chain.</p>
</font><font FACE="Arial">
<p ALIGN="justify">To exemplify the case of an IPv6 packet with a longer EH 
chain, Figure 4 depicts the structure of a Binding Acknowledgement sent from the 
Home Agent to the Mobile Node. The first header in the chain is the Routing EH 
(43), the second is the Authentication EH (51) and finally the Mobility EH 
(135). </p>
<p ALIGN="justify"><b>Note:</b> Mobility standards are not allowing for data to 
be piggy-backed to the binding maintenance messages (control plane). This is the 
reason why the packet in Figure 4 does not have a payload.</p>
</font>
<p align="center"><font face="Arial">
<img border="0" src="IPv6.h5.gif" width="887" height="583"></font></p>
<font FACE="Arial"><b>
<p align="center">Figure 4. </b>Binding Acknowledgment Sent from a Correspondent 
Node to a Mobile Node</p>
</font><font FACE="Arial">
<p ALIGN="justify">This packet, built to emphasize special cases where multiple 
extension headers might be used, has an EH chain length of 72 bytes. Since the 
length of most individual extension headers is variable, the length of EH chains 
can be even larger. Note however that this size is typically driven by the need 
to carry certain information in addition to that in the main header. The larger 
EH chains (whether due to many EH or to long individual EH) are used for control 
plane traffic. Packets carrying user data such as the one showed in Figure 3 
generally have shorter EH chains.</p>
<p ALIGN="justify"><b>Note:</b> The control plane traffic generally has a very 
low rate compared with the data plane traffic, from a forwarding performance 
perspective, packets with shorter EH chains (Figure 3) are of more interest.</p>
<p ALIGN="justify">The common use of IPv6 EH makes it important to analyze and 
understand the way in which network devices (routers, layer 3 switches and 
generally devices that forward traffic based on layer 3 information) process the 
extension headers.</p>
<p ALIGN="justify"><b>Note:</b> The EHs are considered a powerful tool in 
extending IPv6 to adapt to future protocol requirements and service needs. It is 
expected the other uses will be identified for the existent EHs and that new EHs 
will be defined.</p>
</font><font FACE="Arial" COLOR="#003366"><b>
<p ALIGN="justify">&nbsp;</p>
<p ALIGN="justify">IPV6 EXTENSION HEADERS PROCESSING</p>
</b></font><font FACE="Arial">
<p ALIGN="justify">This section describes the way in which various Extension 
Header types must be processed by network devices under basic forwarding 
conditions or in the context of advanced features such as Access Lists. It 
identifies the protocol requirements that must be observed.</p>
<b>
<p ALIGN="justify">Hop-by-Hop Extension Header</p>
</b>
<p ALIGN="justify">The Hop-by-Hop Extension Header is the ONLY EH that MUST be 
fully processed by all network devices as shown in Figure 5. From this 
perspective, the Hop-by-Hop EH is similar to the IPv4 options. This explains the 
reason why this EH MUST be the first in a chain of extension headers.</p>
</font>
<p align="center"><font face="Arial">
<img border="0" src="IPv6.h6.jpg" width="874" height="375"></font></p>
<font FACE="Arial"><b>
<p align="justify">Figure 5. </b>Forwarding IPv6 Packets with the Hop-by-Hop 
Extension Header</p>
</font><font FACE="Arial">
<p ALIGN="justify">Because the Hop-by-Hop EH must be fully processed, it is 
handled by the CPU1</font><font FACE="Arial" COLOR="#ffffff">1 </font>
<font face="Arial">and the IPv6 traffic that contains a Hop-by-Hop EH will go 
through the slow forwarding path. This rule applies to all vendors. Hardware 
forwarding is not feasible in this case. </font></p>
<font FACE="Arial">
<p align="justify"><b>Note:</b> The Hop-by-Hop EH can be processed by the 
central or Line Card CPU depending on the router architecture.</p>
</font><font FACE="Arial"><b>
<p ALIGN="justify">&nbsp;</p>
<p ALIGN="justify">Other Extension Headers</p>
</b>
<p ALIGN="justify">Network devices are not required to process any of the other 
IPv6 extension headers when simply forwarding the traffic</font><font face="Arial">. 
For this reason, IPv6 traffic with one or more EHs other than Hop-by-Hop can be 
forwarded in hardware as shown in Figure 6.</p>
</font>
<p align="center"><font face="Arial">
<img border="0" src="IPv6.h7.jpg" width="837" height="349"></font></p>
<font face="Arial"><b>
<p align="center">Figure 6. </b>Forwarding IPv6 Packets with Extension Headers 
other than Hop-by-Hop in the Absence of ACLs</p>
</font>
<p align="justify">&nbsp;</p>
<font FACE="Arial">
<p ALIGN="justify">Network devices might however process some EHs if 
specifically configured to do so while supporting certain services such as IPv6 
Mobility. The extensions headers used to secure the IP communication between two 
hosts, Authentication and Encapsulating Security Payload Headers, are also 
ignored by the intermediary network devices while forwarding traffic. These EHs 
are relevant only to the source</font><font FACE="Arial" COLOR="#ffffff">3</font><font face="Arial">and 
destination of the IP packet. It is important however to remember that all 
information following the ESH is encrypted and not available for inspection by 
an intermediary device, if that is required.</p>
<b>
<p ALIGN="justify">Extension Headers and Access Lists</p>
</b>
<p ALIGN="justify">In the absence of the Hop-by-Hop EH, based on the processing 
rules described in the previous <b>Hop-by-Hop Extension Header </b>and <b>Other 
Extension Headers </b>sections, as long as a router is concerned exclusively 
with layer 3 information and it is not specifically instructed to process 
certain EH (for certain services it is supporting), it can forward IPv6 traffic 
without analyzing the extension headers. An IPv6 packet can have an arbitrary 
number of EH (other than Hop-by-Hop) and the router would ignore them and simply 
forward the traffic based on the main header. Under these conditions, routers 
can forward the IPv6 traffic in hardware despite the EHs. Access Lists (ACL) 
applied on router interfaces however, can change the router’s IPv6 forwarding 
performance characteristics when extension headers are present.</p>
<p ALIGN="justify"><b>Note:</b> This document discusses only the behavior of 
network devices that are natively forwarding IPv6 forwarding. Handling of 
tunneled IPv6 traffic</p>
<p ALIGN="justify">is not discussed in this document since tunneled traffic is 
typically process switched.</p>
<p ALIGN="justify"><b>Note:</b> A router can be the source of an IPv6 IPsec 
tunnel, adding the AH or the ESH to the packets transmitted over that tunnel. 
This can be done in</p>
<p align="justify">software or hardware depending on the platform.</p>
</font>
<p align="center"><font face="Arial"><b><a href="ACNMAIN.htm">MAIN</a></b></font></p>

</body>

</html>
